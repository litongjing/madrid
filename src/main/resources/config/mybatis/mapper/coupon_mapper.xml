<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mapper.CouponMapper">
    <sql id="couponlist_field">
       actionno,extrule,payrule,couponcode,couponname,coupondesc,
       amount,leftamount,counts,password,msgcode,account,cardno,
       storeno,status,isprint,startdate,enddate,posseq,createdate,
       channel,reserved1,reserved2,reserved3,reserved4
    </sql>

    <!--<select id="selectCoupon" resultType="CouponDO">-->
        <!--select-->
        <!--<include refid="couponlist_field"/>-->
        <!--from crm_ticket_couponlist-->
        <!--where 1=1-->
        <!--<if test="couponCode !=null and couponCode !=''">and couponcode=#{couponCode}</if>-->
    <!--</select>-->


    <select id="selectCoupon" resultType="CouponDO">
        select
        <include refid="couponlist_field"/>
        from crm_ticket_couponlist
        <where>
            <if test="couponCode !=null and couponCode !=''">and couponcode=#{couponCode}</if>
            <if test="storeNo != null and storeNo!=''">and storeNo=#{storeNo}</if>
        </where>
    </select>
</mapper>